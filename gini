def gini(array):
    #array = array.flatten()
    if np.amin(array) <0:
        array -= np.amin(array) #values cannot be negative
    #array += 0.0000001 #values cannot be zero
    array = np.sort(array) #values must be sorted
    index = np.arange(1,array.shape[0]+1)
    n=array.shape[0] #number of array elements
    return ((np.sum((2 * index - n - 1)*array))/(n*np.sum(array))) #Gini coefficient
